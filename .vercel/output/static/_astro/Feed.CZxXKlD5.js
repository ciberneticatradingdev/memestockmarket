import{d as Ne,c as p,j as Oe,g as f,a as U,i as n,b as $,k as Ie,f as m,r as L,t as x,S as z,F as oe,l as c,h as de,s as M}from"./web.DUIZDRlJ.js";var Ve=x('<div class="mt-4 relative"><img alt=Preview class="max-w-full h-48 object-cover rounded-lg"><button class="absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-8 h-8 flex items-center justify-center transition-colors">Ã—'),Ae=x(`<div class="min-h-screen bg-gradient-to-b from-blue-900 to-blue-700 p-6"><div class="max-w-2xl mx-auto"><div class="text-center mb-8"><h1 class="text-4xl font-bold text-white mb-2">Community Feed</h1><p class=text-gray-300>Share your trading insights and connect with fellow meme investors</p></div><div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 mb-6 border border-gray-700/50"><div class="flex items-start space-x-4"><img src="https://api.dicebear.com/7.x/avataaars/svg?seed=You"alt="Your avatar"class="w-12 h-12 rounded-full"><div class=flex-1><textarea placeholder="What's happening in the meme market?"class="w-full bg-gray-700/50 text-white placeholder-gray-400 rounded-lg p-4 border border-gray-600 focus:border-blue-500 focus:outline-none resize-none"rows=3></textarea><!$><!/><div class="flex items-center justify-between mt-4"><div class="flex items-center space-x-4"><label class="cursor-pointer text-blue-400 hover:text-blue-300 transition-colors"><input type=file accept=image/*,video/* class=hidden><svg class="w-6 h-6"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></label><span class="text-gray-400 text-sm"></span></div><button class="bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white px-6 py-2 rounded-lg font-semibold transition-colors">Post</button></div></div></div></div><div class=space-y-6>`),We=x('<img alt="Post image"class="w-full max-h-96 object-cover rounded-lg mb-4">'),Je=x('<div class="mt-4 space-y-3">'),He=x('<div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700/50"><div class="flex items-center space-x-3 mb-4"><img class="w-10 h-10 rounded-full"><div class=flex-1><h3 class="text-white font-semibold"></h3><p class="text-gray-400 text-sm"></p></div></div><p class="text-gray-200 mb-4 leading-relaxed"></p><!$><!/><div class="flex items-center space-x-6 py-3 border-t border-gray-700"><button><svg class="w-5 h-5"stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg><span></span></button><button class="flex items-center space-x-2 text-gray-400 hover:text-blue-500 transition-colors"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path></svg><span></span></button><button class="flex items-center space-x-2 text-gray-400 hover:text-green-500 transition-colors"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path></svg><span>Share</span></button></div><!$><!/><div class="flex items-center space-x-3 mt-4"><img src="https://api.dicebear.com/7.x/avataaars/svg?seed=You"alt="Your avatar"class="w-8 h-8 rounded-full"><div class="flex-1 flex space-x-2"><input type=text placeholder="Write a comment..."class="flex-1 bg-gray-700/50 text-white placeholder-gray-400 rounded-lg px-4 py-2 border border-gray-600 focus:border-blue-500 focus:outline-none"><button class="bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg transition-colors">Post'),Ge=x('<div class="flex items-start space-x-3 bg-gray-700/30 rounded-lg p-3"><img class="w-8 h-8 rounded-full"><div class=flex-1><div class="flex items-center space-x-2 mb-1"><span class="text-white font-medium text-sm"></span><span class="text-gray-400 text-xs"></span></div><p class="text-gray-200 text-sm"></p><button><svg class="w-4 h-4"stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg><span>');function Ke(){const ce=r=>new Promise((i,e)=>{const t=new FileReader;t.readAsDataURL(r),t.onload=()=>i(t.result),t.onerror=l=>e(l)}),ge=r=>{try{const i=JSON.stringify(r,(e,t)=>e==="timestamp"&&t instanceof Date?t.toISOString():t);localStorage.setItem("feed-posts",i)}catch(i){console.error("Error saving posts to localStorage:",i)}},ue=()=>{try{const r=localStorage.getItem("feed-posts");if(r)return JSON.parse(r,(e,t)=>e==="timestamp"&&typeof t=="string"?new Date(t):t)}catch(r){console.error("Error loading posts from localStorage:",r)}return[{id:"1",author:"MemeTrader_Pro",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=MemeTrader_Pro",content:'Just bought 1000 shares of the "Distracted Boyfriend" meme! ðŸ“ˆ This one is going to the moon! ðŸš€',timestamp:new Date(Date.now()-18e5),likes:42,comments:[{id:"c1",author:"CryptoMemer",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=CryptoMemer",content:"Great choice! I've been holding this one for weeks ðŸ’ŽðŸ™Œ",timestamp:new Date(Date.now()-9e5),likes:8,isLiked:!1}],isLiked:!0},{id:"2",author:"ViralVestor",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=ViralVestor",content:'New meme alert! ðŸš¨ "Woman Yelling at Cat" just hit the market. Early investors are already seeing 200% gains!',image:"https://via.placeholder.com/400x300/1f2937/ffffff?text=Woman+Yelling+at+Cat+Meme",timestamp:new Date(Date.now()-72e5),likes:156,comments:[],isLiked:!1}]},[T,w]=p(ue()),[P,B]=p(""),[k,D]=p(null),[g,j]=p(null),[E,N]=p({});Oe(()=>{const r=T();r.length>0&&ge(r)});const me=r=>{const e=r.target.files?.[0];if(e){D(e);const t=URL.createObjectURL(e);j(t)}},he=()=>{D(null),g()&&(URL.revokeObjectURL(g()),j(null))},fe=async()=>{const r=P().trim();if(!r)return;let i;if(k())try{i=await ce(k())}catch(t){console.error("Error converting file to base64:",t),i=g()||void 0}const e={id:Date.now().toString(),author:"You",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=You",content:r,image:i,timestamp:new Date,likes:0,comments:[],isLiked:!1};w(t=>[e,...t]),B(""),D(null),g()&&(URL.revokeObjectURL(g()),j(null))},xe=r=>{w(i=>i.map(e=>e.id===r?{...e,isLiked:!e.isLiked,likes:e.isLiked?e.likes-1:e.likes+1}:e))},ve=(r,i)=>{w(e=>e.map(t=>t.id===r?{...t,comments:t.comments.map(l=>l.id===i?{...l,isLiked:!l.isLiked,likes:l.isLiked?l.likes-1:l.likes+1}:l)}:t))},O=r=>{const i=E()[r]?.trim();if(!i)return;const e={id:Date.now().toString(),author:"You",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=You",content:i,timestamp:new Date,likes:0,isLiked:!1};w(t=>t.map(l=>l.id===r?{...l,comments:[...l.comments,e]}:l)),N(t=>({...t,[r]:""}))},I=r=>{const e=Math.floor((new Date().getTime()-r.getTime())/1e3);return e<60?"just now":e<3600?`${Math.floor(e/60)}m ago`:e<86400?`${Math.floor(e/3600)}h ago`:`${Math.floor(e/86400)}d ago`};return(()=>{var r=f(Ae),i=r.firstChild,e=i.firstChild,t=e.nextSibling,l=t.firstChild,be=l.firstChild,V=be.nextSibling,F=V.firstChild,pe=F.nextSibling,[A,$e]=U(pe.nextSibling),we=A.nextSibling,W=we.firstChild,J=W.firstChild,ke=J.firstChild,_e=J.nextSibling,H=W.nextSibling,ye=t.nextSibling;return F.$$input=a=>B(a.target.value),n(V,$(z,{get when(){return g()},get children(){var a=f(Ve),u=a.firstChild,_=u.nextSibling;return _.$$click=he,m(()=>c(u,"src",g())),L(),a}}),A,$e),ke.addEventListener("change",me),n(_e,(()=>{var a=Ie(()=>!!k());return()=>a()?k().name:"Add photo or video"})()),H.$$click=fe,n(ye,$(oe,{get each(){return T()},children:a=>(()=>{var u=f(He),_=u.firstChild,Y=_.firstChild,Se=Y.nextSibling,G=Se.firstChild,Ce=G.nextSibling,q=_.nextSibling,Le=q.nextSibling,[K,Me]=U(Le.nextSibling),Q=K.nextSibling,y=Q.firstChild,X=y.firstChild,Pe=X.nextSibling,De=y.nextSibling,je=De.firstChild,Ee=je.nextSibling,Fe=Q.nextSibling,[Z,Ye]=U(Fe.nextSibling),Re=Z.nextSibling,Ue=Re.firstChild,ze=Ue.nextSibling,S=ze.firstChild,ee=S.nextSibling;return n(G,()=>a.author),n(Ce,()=>I(a.timestamp)),n(q,()=>a.content),n(u,$(z,{get when(){return a.image},get children(){var s=f(We);return m(()=>c(s,"src",a.image)),s}}),K,Me),y.$$click=()=>xe(a.id),n(Pe,()=>a.likes),n(Ee,()=>a.comments.length),n(u,$(z,{get when(){return a.comments.length>0},get children(){var s=f(Je);return n(s,$(oe,{get each(){return a.comments},children:o=>(()=>{var v=f(Ge),h=v.firstChild,C=h.nextSibling,b=C.firstChild,te=b.firstChild,Te=te.nextSibling,re=b.nextSibling,R=re.nextSibling,ae=R.firstChild,Be=ae.nextSibling;return n(te,()=>o.author),n(Te,()=>I(o.timestamp)),n(re,()=>o.content),R.$$click=()=>ve(a.id,o.id),n(Be,()=>o.likes),m(d=>{var ie=o.avatar,se=`${o.author} avatar`,le=`flex items-center space-x-1 mt-2 text-xs transition-colors ${o.isLiked?"text-red-500":"text-gray-400 hover:text-red-500"}`,ne=o.isLiked?"currentColor":"none";return ie!==d.e&&c(h,"src",d.e=ie),se!==d.t&&c(h,"alt",d.t=se),le!==d.a&&de(R,d.a=le),ne!==d.o&&c(ae,"fill",d.o=ne),d},{e:void 0,t:void 0,a:void 0,o:void 0}),L(),v})()})),s}}),Z,Ye),S.addEventListener("keypress",s=>{s.key==="Enter"&&O(a.id)}),S.$$input=s=>N(o=>({...o,[a.id]:s.target.value})),ee.$$click=()=>O(a.id),m(s=>{var o=a.avatar,v=`${a.author} avatar`,h=`flex items-center space-x-2 transition-colors ${a.isLiked?"text-red-500":"text-gray-400 hover:text-red-500"}`,C=a.isLiked?"currentColor":"none",b=!E()[a.id]?.trim();return o!==s.e&&c(Y,"src",s.e=o),v!==s.t&&c(Y,"alt",s.t=v),h!==s.a&&de(y,s.a=h),C!==s.o&&c(X,"fill",s.o=C),b!==s.i&&M(ee,"disabled",s.i=b),s},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),m(()=>M(S,"value",E()[a.id]||"")),L(),u})()})),m(()=>M(H,"disabled",!P().trim())),m(()=>M(F,"value",P())),L(),r})()}Ne(["input","click"]);export{Ke as default};
